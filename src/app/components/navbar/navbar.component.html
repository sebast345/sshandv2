<mat-toolbar class="position-fixed centerFlex-row ">
    <mat-toolbar-row>
      <button id="hamburguer" mat-icon-button>

        <mat-icon (click)="sidenav.toggle(); " *ngIf="show; else notShow">
          menu
        </mat-icon>
        
        <ng-template #notShow>
          <mat-icon (click)="sidenav.toggle();" >close</mat-icon>
        </ng-template>

      </button>
      <h1><a [routerLink]="'/home'" >SSHand V2</a></h1>
      <span class="menu-spacer"></span>
      <div>
        <a mat-button *ngIf ="!userData; else LoggedWelcome"> Bienvenido, invitado </a>
        <ng-template mat-button #LoggedWelcome>
          <a mat-button> Bienvenido, {{userData.name}} </a>
        </ng-template>
        <a *ngIf ="!isLoggedIn" mat-button [routerLink]="'/login-register'"> Iniciar sesión o Registro </a>
        <a mat-button [routerLink]="'/contact'"> Contactar </a>
        <a mat-button [routerLink]="'/frequently-asked-questions'"> FAQ</a>
        <a *ngIf ="isLoggedIn" mat-button (click) = "openLogoutDialog()"> Cerrar sesión </a>
  
      </div>
    </mat-toolbar-row>
  
    <!-- <mat-toolbar-row>
        <span style="font-size: 12px;">SimpleCRM helps you easily manage your contacts</span>
      </mat-toolbar-row> -->
</mat-toolbar>

  <mat-sidenav-container>
    <mat-sidenav #sidenav (opened)="show=!show"
    (closed)="show=!show">
      <mat-nav-list *ngIf="userData; else notLoggedMenu">
        <a [routerLink]="'/profile'" style="height: 0; position: absolute;"> <!-- Es para solucionar un problema con el sidenav, ignorar por completo --></a> 
        <div id="user-info" class="width100 centerFlex-column">
          <a [routerLink]="['/user-profile']" (click)="sidenav.toggle()" [queryParams]="{u:userData.objectID}" class="position-relative">
            <div class="hvr-grow centerFlex-column"  [style.background-image]="avatar" id="avatar">
              <div *ngIf="!userPoints;else zeroReviews" class="bold centerFlex" id="points">{{userPoints}}</div>
              <ng-template #zeroReviews><div  class="bold centerFlex" id="points">0</div></ng-template>
            </div>
          </a>
          <a id="name" class="bold hvr-grow" (click)="sidenav.toggle()" [routerLink]="'/user-profile'">{{userData.name}}</a>
        </div>
        <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" [routerLink]="['/inbox']" [queryParams]="{type:'received'}"> Buzón {{newMsgNumber}}</a>
        <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" [routerLink]="'/post-item'"> Quiero vender algo </a>
        <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" [routerLink]="'/user-profile'"> Mi perfil </a>
        <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" [routerLink]="'/edit-profile'"> Configurar mi cuenta </a>
        <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" [routerLink]="'/my-reviews'"> Mis opiniones </a>
        <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" [routerLink]="'/my-items'"> Mis ventas </a> 
        
        <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" mat-list-item>Ocultar</a>
  
      </mat-nav-list>
      <ng-template #notLoggedMenu>
        <mat-nav-list>
          <div id="user-info" class="width100 centerFlex-column">
            <a [routerLink]="['/login-register']" (click)="sidenav.toggle()" class="position-relative">
              <div class="hvr-grow centerFlex-column"  [style.background-image]="'url(../../../assets/img/no-avatar.png)'" id="avatar"></div>
            </a>
            <a id="name" class="bold hvr-grow" (click)="sidenav.toggle()" [routerLink]="'/login-register'">Registrarse</a>
          </div>
          <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" [routerLink]="'/post-item'"> Quiero vender algo </a>
          <a class="hvr-underline-from-left" mat-list-item (click)="sidenav.toggle()" mat-list-item>Ocultar</a>
        </mat-nav-list>
      </ng-template>
    </mat-sidenav>
    <mat-sidenav-content>
    
      <div id="container" class="container-fluid">
        <router-outlet></router-outlet>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
  